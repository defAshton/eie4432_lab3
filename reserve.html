<!DOCTYPE html>
<html>
    <head>
        <title>22096961d_Drink Ordering System</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="code.jquery.com_jquery-3.7.1.js"></script>
        <script src="reserve-table.js"></script>
        <style>
            .table{
                fill:green;
                stroke:black;
                stroke-width:2px;
                cursor:pointer;
            }
            .booked{
                fill:red;
                stroke:black;
                stroke-width:2px;
                cursor:not-allowed;
            }
        </style>
    </head>
    <body>
        <header class="bg-primary text-danger text-center p-3"><h1>Drink Ordering System</h1></header>
        <style>
            @media (max-width: 767px) {
                .navbar-nav {
                    gap: 0;
                }
            }
            @media (min-width: 768px) {
                .navbar-nav {
                    gap: 1rem;
                }
            }
        </style>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="https://defashton.github.io/eie4432_lab2">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://defashton.github.io/eie4432_lab2/order">Order</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active link-primary fw-bold" aria-current="page" href="https://defashton.github.io/eie4432_lab2/reserve">Reserve a Table</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://defashton.github.io/eie4432_lab3/menu">Menu</a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="container py-4" style="display: flex; justify-content: center; align-items: center;">
            <svg width="400" height="100">
                <circle class="table" cx="50" cy="50" r="30" id="0" value="empty"></circle>
                <circle class="table" cx="150" cy="50" r="30" id="1" value="empty"></circle>
                <circle class="table" cx="250" cy="50" r="30" id="2" value="empty"></circle>
                <circle class="table" cx="350" cy="50" r="30" id="3" value="empty"></circle>
                <text x="50" y="50"text-anchor="middle" alignment-baseline="central" fill="white" onclick="handleClick(0) " >1</text>
                <text x="150" y="50" text-anchor="middle" alignment-baseline="central" fill="white" onclick="handleClick(1)" >2</text>
                <text x="250" y="50" text-anchor="middle" alignment-baseline="central" fill="white" onclick="handleClick(2)" >3</text>
                <text x="350" y="50" text-anchor="middle" alignment-baseline="central" fill="white" onclick="handleClick(3)" >4</text>
            </svg>
            
        </div> 
        <p id="text" style="display: block; font-size: larger; font-weight: bold;text-align:center;">Click a Table to book.</p>
        <div id="selected-table" style="text-align:center;" class="fw-bold fs-4">
        </div>
        <div style="display: flex; justify-content: center;" id="buttons" class="d-none">
            <button onclick="confirm()" type="button" id="confirm" style="font-size: larger; border-radius: 5px; background-color: blue; color: white; margin-right:10px;">Confirm</button>
            <button onclick="dismiss()" type="button" id="dismiss" style="font-size: larger; border-radius: 5px; background-color: gray; color: white; margin-left:10px;">Dismiss</button>
        </div> 
        <footer class="bg-primary text-danger text-center p-3 fixed-bottom">22096961d LIU Xikai EIE4432 Lab3 Project</footer>
        
        <script>
            var button1 = document.getElementById('0');
            var button2 = document.getElementById('1');
            var button3 = document.getElementById('2');
            var button4 = document.getElementById('3');
            var text = document.getElementById('text');
          
            function handleClick(tableNumber) {
                text.textContent = 'Do you want to book table ' + String(parseInt(tableNumber)+1) + '?';
                selectedTableNumber = tableNumber;
            }
          
            button1.addEventListener('click', function() {
                handleClick(0);
                $('#buttons').removeClass('d-none');
                var circle = $('#0');
                if (circle.hasClass('booked')) {
                    alert('This table is already booked.');
                    $('#buttons').addClass('d-none');
                }
            });
            button2.addEventListener('click', function() {
                $('#buttons').removeClass('d-none');
                handleClick(1);
                var circle = $('#1');
                if (circle.hasClass('booked')) {
                    alert('This table is already booked.');
                    $('#buttons').addClass('d-none');
                }
            });
            button3.addEventListener('click', function() {
                $('#buttons').removeClass('d-none');
                handleClick(2);
                var circle = $('#2');
                if (circle.hasClass('booked')) {
                    alert('This table is already booked.');
                    $('#buttons').addClass('d-none');
                }
            });
            button4.addEventListener('click', function() {
                $('#buttons').removeClass('d-none');
                handleClick(3);
                var circle = $('#3');
                if (circle.hasClass('booked')) {
                    alert('This table is already booked.');
                    $('#buttons').addClass('d-none');
                }
            });
          </script>
    </body>
</html>